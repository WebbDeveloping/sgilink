@import "tailwindcss";

/* Base: light theme tokens (what you already had) */
@theme {
  /* Font Family */
  --font-family-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  /* Base surfaces */
  --color-bg: #fcfcfd;
  --color-surface: #ffffff;
  --color-section-blue: #e9f2ff;
  --color-section-warm: #f4f2ec;

  /* Neutral text */
  --color-text: #1f2933;
  --color-text-muted: #6b7280;

  /* Brand blues */
  --color-brand: #3a5e7b;
  --color-brand-soft: #8db7e8;
  --color-brand-dark: #324b63;
  --color-brand-on: #10243a;
  --color-brand-on-soft: #1f3b57;
  --color-brand-chip: #355477;
  --color-brand-label: #5c7aa4;
  --color-brand-body-alt: #23405f;

  /* Borders */
  --color-border: #ece7dc;
  --color-border-strong: #ddd2bd;
  --color-border-blue: #d5e3f6;
  --color-border-card: #e2e8f0;

  /* Chips / badges */
  --color-chip-warm: #f7f5f0;
  --color-chip-blue: #e2eeff;

  /* Accent */
  --color-accent-warm: #e4d7bb;
}

/* Optional: help browsers pick correct system UI colors */
:root {
  color-scheme: light;
}

/* Dark theme overrides â€“ these reuse the SAME token names */
:root[data-theme="dark"] {
  color-scheme: dark;

  --color-bg: #020617; /* deep slate */
  --color-surface: #020617;
  --color-section-blue: #020617;
  --color-section-warm: #020617;

  --color-text: #e5e7eb; /* neutral-200/300 */
  --color-text-muted: #9ca3af;

  --color-brand: #8db7e8; /* lighter blue for contrast */
  --color-brand-soft: #3a5e7b;
  --color-brand-dark: #1f2937;
  --color-brand-on: #f9fafb;
  --color-brand-on-soft: #e5e7eb;
  --color-brand-chip: #1e293b;
  --color-brand-label: #9ca3af;
  --color-brand-body-alt: #cbd5f5;

  --color-border: #1f2937;
  --color-border-strong: #374151;
  --color-border-blue: #1d3557;
  --color-border-card: #111827;

  --color-chip-warm: #111827;
  --color-chip-blue: #0b1120;

  --color-accent-warm: #43311f;
}

/* ---------------------------------------------------- */
/* Animation utilities have been migrated to framer-motion */
/* See: src/lib/animations/ and src/components/animations/ */
/* ---------------------------------------------------- */

/* Parallax card animations */
@layer utilities {
  .sgi-parallax-cards-container {
    /* Ensure proper stacking context */
    isolation: isolate;
    /* Add extra spacing to allow cards to scroll over each other */
    padding-bottom: 2rem;
  }

  .sgi-parallax-card {
    position: sticky;
    top: 5rem; /* Sticky position offset from top (matches header height) */
    /* Smooth transitions for transforms */
    transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
      opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure cards can overlap */
    margin-bottom: 1.5rem;
    /* Transform origin for scaling */
    transform-origin: center center;
    /* Base z-index - will be overridden by JS */
    z-index: 10;
  }

  .sgi-parallax-card-sticky {
    /* This class is kept for backwards compatibility but all cards are now sticky */
    position: sticky;
    top: 5rem;
  }

  .sgi-parallax-card-scroll {
    /* This class is kept for backwards compatibility but all cards are now sticky */
    position: sticky;
    top: 5rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .sgi-parallax-card {
    transform: none !important;
    opacity: 1 !important;
    transition: none !important;
    position: relative !important;
    top: auto !important;
  }

  .sgi-parallax-card-sticky,
  .sgi-parallax-card-scroll {
    position: relative !important;
    top: auto !important;
  }
}

/* Mobile: disable sticky on smaller screens for better UX */
@media (max-width: 768px) {
  .sgi-parallax-card {
    position: relative;
    top: auto;
  }

  .sgi-parallax-card-sticky,
  .sgi-parallax-card-scroll {
    position: relative;
    top: auto;
  }
}
